
var trust = [
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Blekinge",
    "År": "2017",
    "Resultat": "60.0%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Dalarna",
    "År": "2017",
    "Resultat": "55.6%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Gotland",
    "År": "2017",
    "Resultat": "59.3%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Gävleborg",
    "År": "2017",
    "Resultat": "59.8%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Halland",
    "År": "2017",
    "Resultat": "69.5%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Jämtland Härjedalen",
    "År": "2017",
    "Resultat": "59.5%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Jönköpings län",
    "År": "2017",
    "Resultat": "70.8%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Kalmar län",
    "År": "2017",
    "Resultat": "68.8%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Kronoberg",
    "År": "2017",
    "Resultat": "62.9%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Norrbotten",
    "År": "2017",
    "Resultat": "56.8%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Riket",
    "År": "2017",
    "Resultat": "60.0%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Skåne",
    "År": "2017",
    "Resultat": "55.6%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Stockholms län",
    "År": "2017",
    "Resultat": "61.1%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Sörmland",
    "År": "2017",
    "Resultat": "61.1%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Uppsala län",
    "År": "2017",
    "Resultat": "64.0%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Värmland",
    "År": "2017",
    "Resultat": "55.8%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Västerbotten",
    "År": "2017",
    "Resultat": "61.0%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Västernorrland",
    "År": "2017",
    "Resultat": "55.4%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Västmanland",
    "År": "2017",
    "Resultat": "60.4%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Västra Götaland",
    "År": "2017",
    "Resultat": "56.6%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Örebro län",
    "År": "2017",
    "Resultat": "61.9%"
},
{
    "tel": "Förtroende för vård- eller hälsocentral",
    "Enhetsnamn": "Östergötland",
    "År": "2017",
    "Resultat": "61.2%"
},

    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Blekinge",
        "År": "2018",
        "Resultat": "58.0%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Dalarna",
        "År": "2018",
        "Resultat": "61.3%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Gotland",
        "År": "2018",
        "Resultat": "56.0%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Gävleborg",
        "År": "2018",
        "Resultat": "60.9%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Halland",
        "År": "2018",
        "Resultat": "68.3%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Jämtland Härjedalen",
        "År": "2018",
        "Resultat": "62.0%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Jönköpings län",
        "År": "2018",
        "Resultat": "66.8%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Kalmar län",
        "År": "2018",
        "Resultat": "67.7%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Kronoberg",
        "År": "2018",
        "Resultat": "61.9%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Norrbotten",
        "År": "2018",
        "Resultat": "56.0%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Riket",
        "År": "2018",
        "Resultat": "58.2%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Skåne",
        "År": "2018",
        "Resultat": "55.8%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Stockholms län",
        "År": "2018",
        "Resultat": "58.3%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Sörmland",
        "År": "2018",
        "Resultat": "59.2%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Uppsala län",
        "År": "2018",
        "Resultat": "61.4%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Värmland",
        "År": "2018",
        "Resultat": "53.4%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Västerbotten",
        "År": "2018",
        "Resultat": "62.3%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Västernorrland",
        "År": "2018",
        "Resultat": "54.8%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Västmanland",
        "År": "2018",
        "Resultat": "56.3%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Västra Götaland",
        "År": "2018",
        "Resultat": "53.4%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Örebro län",
        "År": "2018",
        "Resultat": "57.8%"
    },
    {
        "tel": "Förtroende för vård- eller hälsocentral",
        "Enhetsnamn": "Östergötland",
        "År": "2018",
        "Resultat": "58.5%"
    }
    ]

// Funktion för filtrering av Array efter år 2017.
function filter17(data17) {
    let trust2017 = trust.filter(function(trust17) { //definierar funktionens variabel trust2017
    return (trust17.År == "2017");  //returnerar alla objekt med properties som är lika med 2017.
    });
    return trust2017; //laddar in properties till trust2017
};


function filter18(data18) {
    let trust2018 = trust.filter(function(trust18) {//definierar funktionens variabel turst18
    return (trust18.År == "2018"); //samma procedur dock för 2018.
    });
    return trust2018
};


let year17 = filter17(trust); //Anropar på funktionen som filtrerar min trust array och laddar in properties in i den lokala variablen
let trustName17 = countyNames(year17); //anropar funktionen för alla enhetsnamn i varibel year17.
let trustResult17 = countyResults(year17); //anropar funktionen för all resultat i variabel year17.

let year18 = filter18(trust); //samma som ovan.
let trustname18 = countyNames(year18); //samma som ovan.
let trustResult18 = countyResults(year18);

var trace1 = {
    x: trustName17, 
    y: trustResult17, 
    name: '2017', 
    type: 'bar'
  };
  
  var trace2 = {
    x: trustname18, 
    y: trustResult18, 
    name: '2018', 
    type: 'bar',
  };
  
  var data = [trace1, trace2];
  var layout = {
      title: 'Förtroende för vård- eller hälsocentral',
      barmode: 'group',
    xaxis: {
        title: {
            text: 'Källa: Hälso- och sjukvårdsbarometern',
        }, 
        titlefont: {
            size: 12,
    },
    },
};
  
  Plotly.newPlot('trust', data, layout, {}, {showSendToCloud:true});